{"version":3,"sources":["webpack:///./src/app/admin/settings/department/department-routing.module.ts","webpack:///./src/app/admin/settings/department/department.component.html","webpack:///./src/app/admin/settings/department/department.component.ts","webpack:///./src/app/admin/settings/department/department.module.ts","webpack:///./src/app/admin/settings/department/services/department.service.ts","webpack:///./src/app/admin/settings/department/store/effects/index.ts","webpack:///./src/app/admin/settings/department/store/reducers/index.ts"],"names":[],"mappings":"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","file":"department-department-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DepartmentComponent } from './department.component';\n\nconst routes: Routes = [\n  { path: '', component: DepartmentComponent, pathMatch: 'full' }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class DepartmentRoutingModule { }\n","module.exports = \"<div class=\\\"contacts-list col-xs-12 col-sm-8 col-lg-9\\\">\\n    <a href=\\\"#\\\" class=\\\"btn btn-primary rounded \\\" data-toggle=\\\"modal\\\" data-target=\\\"#add_skill\\\"><i class=\\\"fa fa-plus\\\"></i> Add Department</a>\\n\\n    <ul class=\\\"contact-list\\\" *ngIf=\\\"department$ | async as data\\\">\\n        <li *ngFor=\\\"let item of data\\\">\\n            <div class=\\\"contact-cont\\\">\\n                <div class=\\\"contact-info\\\">\\n                    <span class=\\\"contact-name text-ellipsis\\\">{{ item.name }}</span>\\n                </div>\\n                <ul class=\\\"contact-action\\\">\\n                    <li class=\\\"dropdown\\\">\\n                        <a href=\\\"./contacts.html\\\" class=\\\"dropdown-toggle action-icon\\\" data-toggle=\\\"dropdown\\\" aria-expanded=\\\"false\\\"><i class=\\\"fa fa-ellipsis-v\\\"></i></a>\\n                        <ul class=\\\"dropdown-menu\\\">\\n                            <li><a  data-toggle=\\\"modal\\\" data-target=\\\"#edit_skill\\\" (click)=\\\"setItem(item)\\\">Edit</a></li>\\n                            <li><a  data-toggle=\\\"modal\\\" data-target=\\\"#delete_skill\\\" (click)=\\\"setItem(item)\\\">Delete</a></li>\\n                        </ul>\\n                    </li>\\n                </ul>\\n            </div>\\n        </li>\\n    </ul>\\n</div>\\n\\n<div id=\\\"add_skill\\\" class=\\\"modal custom-modal fade\\\" role=\\\"dialog\\\">\\n    <div class=\\\"modal-dialog\\\">\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\n        <div class=\\\"modal-content modal-lg\\\">\\n            <div class=\\\"modal-header\\\">\\n                <h4 class=\\\"modal-title\\\">Add Department</h4>\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n                <div class=\\\"m-b-30\\\">\\n                    <div class=\\\"row\\\">\\n                        <div class=\\\"col-sm-12\\\">\\n                            <div class=\\\"form-group\\\">\\n                                <label class=\\\"control-label\\\">Name <span class=\\\"text-danger\\\">*</span></label>\\n                                <input class=\\\"form-control\\\" #create type=\\\"text\\\">\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <div class=\\\"m-t-20 text-center\\\">\\n                        <button class=\\\"btn btn-primary btn-lg\\\" data-dismiss=\\\"modal\\\" (click)=\\\"createConfirm()\\\">Create Department</button>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<div id=\\\"edit_skill\\\" class=\\\"modal custom-modal fade\\\" role=\\\"dialog\\\">\\n    <div class=\\\"modal-dialog\\\">\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\n        <div class=\\\"modal-content modal-lg\\\">\\n            <div class=\\\"modal-header\\\">\\n                <h4 class=\\\"modal-title\\\">Edit Department</h4>\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n                <div class=\\\"m-b-30\\\">\\n                    <div class=\\\"row\\\">\\n                        <div class=\\\"col-sm-12\\\">\\n                            <div class=\\\"form-group\\\">\\n                                <label class=\\\"control-label\\\">Name <span class=\\\"text-danger\\\">*</span></label>\\n                                <input class=\\\"form-control\\\" [value]=\\\"item.name\\\" #edit type=\\\"text\\\">\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <div class=\\\"m-t-20 text-center\\\">\\n                        <button class=\\\"btn btn-primary btn-lg\\\" data-dismiss=\\\"modal\\\" (click)=\\\"editConfirm(item)\\\">Update Department</button>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<div id=\\\"delete_skill\\\" class=\\\"modal custom-modal fade\\\" role=\\\"dialog\\\">\\n    <div class=\\\"modal-dialog\\\">\\n        <div class=\\\"modal-content modal-md\\\">\\n            <div class=\\\"modal-header\\\">\\n                <h4 class=\\\"modal-title\\\">Delete Department</h4>\\n            </div>\\n            <form>\\n                <div class=\\\"modal-body card-box\\\">\\n                    <p>Are you sure want to delete this?</p>\\n                    <div class=\\\"m-t-20\\\"> <a class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">Close</a>\\n                        <button data-dismiss=\\\"modal\\\"  class=\\\"btn btn-danger\\\" (click)=\\\"delete(item)\\\">Delete</button>\\n                    </div>\\n                </div>\\n            </form>\\n        </div>\\n    </div>\\n</div>\"","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { select, Store } from '@ngrx/store';\nimport { Observable } from 'rxjs';\n\nimport { DepartmentsState } from './store/reducers';\nimport { Department } from './models/department';\nimport { selectDepartments } from './store/selectors';\nimport { createDepartment, deleteDepartment, editDepartment, getDepartments } from './store/actions';\n\n@Component({\n  selector: 'app-department',\n  templateUrl: './department.component.html',\n})\nexport class DepartmentComponent implements OnInit {\n  department$: Observable<Department[]>;\n\n  item = {name: ''};\n  @ViewChild('create') create: ElementRef;\n  @ViewChild('edit') edit: ElementRef;\n\n  constructor(private store: Store<DepartmentsState>) {}\n\n  ngOnInit() {\n    this.department$ = this.store.pipe(select(selectDepartments));\n\n    this.store.dispatch(new getDepartments())\n  }\n\n  setItem(data) {\n    this.item = data;\n  }\n\n  createConfirm() {\n    let data = this.create.nativeElement.value;\n    if (data && data.length > 1) {\n      this.store.dispatch(new createDepartment({name: data}));\n    }\n    this.create.nativeElement.value = '';\n  }\n\n  editConfirm(data) {\n    let name = this.edit.nativeElement.value;\n    if (name && name.length > 1) {\n      const newState = {...data, name: name};\n      this.store.dispatch(new editDepartment({data: newState, id: data._id}));\n    }\n    this.edit.nativeElement.value = this.item.name;\n  }\n\n  delete(data) {\n    this.store.dispatch(new deleteDepartment(data._id));\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { StoreModule } from '@ngrx/store';\nimport { EffectsModule } from '@ngrx/effects';\n\nimport { reducer } from './store/reducers/index';\nimport { DepartmentsEffect } from './store/effects/index';\n\nimport { DepartmentRoutingModule } from './department-routing.module';\nimport { DepartmentComponent } from './department.component';\n\n\n@NgModule({\n  declarations: [\n    DepartmentComponent,\n  ],\n  imports: [\n    CommonModule,\n    DepartmentRoutingModule,\n    StoreModule.forFeature('department', reducer),\n    EffectsModule.forFeature([DepartmentsEffect]),\n  ],\n  providers: []\n})\nexport class DepartmentModule { }\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\n\nimport { Department } from '../models/department';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class DepartmentsServices {\n  constructor(private http: HttpClient) {}\n\n  getDepartments(): Observable<Department[]>{\n    return this.http.get<Department[]>('https://crm-mean.herokuapp.com/api/department');\n  }\n\n  deleteDepartment(data): Observable<Department> {\n    return this.http.delete<Department>(`https://crm-mean.herokuapp.com/api/department/${data}`);\n  }\n\n  createDepartment(data): Observable<Department> {\n    return this.http.post<Department>(`https://crm-mean.herokuapp.com/api/department`, data);\n  }\n\n  editDepartment({data, id}): Observable<Department> {\n    return this.http.patch<Department>(`https://crm-mean.herokuapp.com/api/department/${id}`, data);\n  }\n}","import { Injectable } from '@angular/core';\nimport { Actions, Effect, ofType } from '@ngrx/effects';\nimport { catchError, map, switchMap } from 'rxjs/operators';\nimport { of } from 'rxjs';\n\nimport {\n  ActionTypes,\n  createDepartment, createDepartmentFail,\n  createDepartmentSuccess, deleteDepartment, deleteDepartmentFail, deleteDepartmentSuccess, editDepartment, editDepartmentSuccess,\n  getDepartmentFail,\n  getDepartmentsSuccess\n} from '../actions/index';\nimport { DepartmentsServices } from '../../services/department.service';\n\n\n@Injectable({\n  providedIn: 'root',\n})\n\nexport class DepartmentsEffect {\n  constructor(private actions$: Actions, private skillsServices: DepartmentsServices) {}\n\n  @Effect()\n  getDepartments$ = this.actions$.pipe(\n    ofType(ActionTypes.GET_DEPARTMENTS),\n    switchMap(() => this.skillsServices.getDepartments().pipe(\n      map(res => new getDepartmentsSuccess(res)),\n      catchError(error => of(new getDepartmentFail(error)))\n    ))\n  );\n\n  @Effect()\n  createDepartment$ = this.actions$.pipe(\n    ofType(ActionTypes.CREATE_DEPARTMENT),\n    switchMap((data: createDepartment) => this.skillsServices.createDepartment(data.payload).pipe(\n      map(res => new createDepartmentSuccess(res)),\n      catchError(error => of(new createDepartmentFail(error)))\n    ))\n  );\n\n  @Effect()\n  deleteDepartment$ = this.actions$.pipe(\n    ofType(ActionTypes.DELETE_DEPARTMENT),\n    switchMap((data: deleteDepartment) => this.skillsServices.deleteDepartment(data.payload).pipe(\n      map(() => new deleteDepartmentSuccess(data.payload)),\n      catchError(error => of(new deleteDepartmentFail(error)))\n    ))\n  );\n\n  @Effect()\n  editDepartment$ = this.actions$.pipe(\n    ofType(ActionTypes.EDIT_DEPARTMENT),\n    switchMap((data: editDepartment) => this.skillsServices.editDepartment(data.payload).pipe(\n      map((res) => new editDepartmentSuccess(res)),\n      catchError(error => of(new deleteDepartmentFail(error)))\n    ))\n  );\n}","import { createEntityAdapter, EntityAdapter, EntityState } from '@ngrx/entity';\n\nimport { ActionTypes, DepartmentAction } from '../actions';\nimport { Department } from '../../models/department';\n\n\nexport interface DepartmentsState extends EntityState<Department> {\n  loading: boolean;\n  deletePending: boolean;\n  createPending: boolean;\n  editPending: boolean;\n  error: string;\n  deleteError: string;\n  createErrors: any[];\n  editErrors: any[];\n  loaded: boolean;\n}\n\nconst adapter: EntityAdapter<Department> = createEntityAdapter<Department>({\n  selectId: state => state._id,\n  sortComparer: (dataA, dataB) => dataA.name.localeCompare(dataB.name),\n});\n\nconst initialState: DepartmentsState = adapter.getInitialState({\n  loading: false,\n  deletePending: false,\n  createPending: false,\n  editPending: false,\n  error: null,\n  deleteError: null,\n  createErrors: [],\n  editErrors: [],\n  loaded: false,\n});\n\nexport const reducer = (state = initialState, action: DepartmentAction): DepartmentsState => {\n  switch (action.type) {\n    case ActionTypes.GET_DEPARTMENTS: {\n      return {\n        ...state,\n        loading: true,\n        error: null,\n      };\n    }\n    case ActionTypes.GET_DEPARTMENTS_SUCCESS: {\n      return adapter.addAll(action.payload, {\n        ...state,\n        loading: false,\n        error: null,\n        loaded: true,\n      });\n    }\n    case ActionTypes.GET_DEPARTMENTS_FAIL: {\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      };\n    }\n    case ActionTypes.DELETE_DEPARTMENT: {\n      return {\n        ...state,\n        deletePending: true,\n        deleteError: null,\n      };\n    }\n    case ActionTypes.DELETE_DEPARTMENT_SUCCESS: {\n      const newState = {\n        ...state,\n        deletePending: false,\n        deleteError: null,\n      };\n      return adapter.removeOne(<string>action.payload, newState);\n    }\n    case ActionTypes.DELETE_DEPARTMENT_FAIL: {\n      return {\n        ...state,\n        deletePending: false,\n        deleteError: action.payload,\n      };\n    }\n    case ActionTypes.CREATE_DEPARTMENT: {\n      return {\n        ...state,\n        createPending: true,\n        createErrors: []\n      };\n    }\n    case ActionTypes.CREATE_DEPARTMENT_SUCCESS: {\n      return adapter.addOne(action.payload, {\n        ...state,\n        createPending: false,\n        createErrors: [],\n      });\n    }\n    case ActionTypes.CREATE_DEPARTMENT_FAIL: {\n      return {\n        ...state,\n        createPending: false,\n        createErrors: action.payload\n      }\n    }\n    case ActionTypes.EDIT_DEPARTMENT: {\n      return {\n        ...state,\n        editPending: true,\n        editErrors: [],\n      };\n    }\n    case ActionTypes.EDIT_DEPARTMENT_SUCCESS: {\n      return {\n        ...state,\n        editPending: false,\n        editErrors: [],\n        entities: {\n          ...state.entities,\n          [action.payload._id]: action.payload\n        }\n      };\n    }\n    case ActionTypes.EDIT_DEPARTMENT_FAIL: {\n      return {\n        ...state,\n        editPending: false,\n        editErrors: action.payload,\n      };\n    }\n    // case ActionTypes.GET_DEPARTMENT: {\n    //   return {\n    //     ...state,\n    //     loading: true,\n    //     error: null,\n    //   };\n    // }\n    // case ActionTypes.GET_DEPARTMENT_SUCCESS: {\n    //   return {\n    //     ...state,\n    //     loading: false,\n    //     DEPARTMENT: action.payload,\n    //     error: null,\n    //   }\n    // }\n    // case ActionTypes.GET_DEPARTMENT_FAIL: {\n    //   return {\n    //     ...state,\n    //     loading: false,\n    //     error: action.payload\n    //   }\n    // }\n    default: {\n      return state;\n    }\n  }\n};"],"sourceRoot":""}